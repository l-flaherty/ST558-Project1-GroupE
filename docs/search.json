[
  {
    "objectID": "ST558 Project 1 Quarto Doc.html",
    "href": "ST558 Project 1 Quarto Doc.html",
    "title": "ST558 Project 1",
    "section": "",
    "text": "Read in data, select only columns (Area_name, STCOU, any colum that ends in “D”), and rename column Area_name as area_name.\n\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.3.3\n\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nedu01a_data &lt;- read_csv(\"https://www4.stat.ncsu.edu/~online/datasets/EDU01a.csv\") |&gt; \n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(\"area_name\" = \"Area_name\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nedu01a_data\n\n# A tibble: 3,198 × 12\n   area_name     STCOU EDU010187D EDU010188D EDU010189D EDU010190D EDU010191D\n   &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n 1 UNITED STATES 00000   40024299   39967624   40317775   40737600   41385442\n 2 ALABAMA       01000     733735     728234     730048     728252     725541\n 3 Autauga, AL   01001       6829       6900       6920       6847       7008\n 4 Baldwin, AL   01003      16417      16465      16799      17054      17479\n 5 Barbour, AL   01005       5071       5098       5068       5156       5173\n 6 Bibb, AL      01007       3557       3508       3571       3621       3652\n 7 Blount, AL    01009       7319       7223       7205       7209       7155\n 8 Bullock, AL   01011       2014       1980       1985       1983       1985\n 9 Butler, AL    01013       4640       4582       4610       4591       4544\n10 Calhoun, AL   01015      20939      20923      20907      20849      20768\n# ℹ 3,188 more rows\n# ℹ 5 more variables: EDU010192D &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010194D &lt;dbl&gt;,\n#   EDU010195D &lt;dbl&gt;, EDU010196D &lt;dbl&gt;\n\n\n\nConvert the data into long format where each row has only one enrollment value for that area_name.\n\n\nedu01a_data &lt;- edu01a_data |&gt; \n  pivot_longer(cols = EDU010187D : EDU010196D,\n               names_to = \"enrollment\",\n               values_to = \"value\")\nedu01a_data\n\n# A tibble: 31,980 × 4\n   area_name     STCOU enrollment    value\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;\n 1 UNITED STATES 00000 EDU010187D 40024299\n 2 UNITED STATES 00000 EDU010188D 39967624\n 3 UNITED STATES 00000 EDU010189D 40317775\n 4 UNITED STATES 00000 EDU010190D 40737600\n 5 UNITED STATES 00000 EDU010191D 41385442\n 6 UNITED STATES 00000 EDU010192D 42088151\n 7 UNITED STATES 00000 EDU010193D 42724710\n 8 UNITED STATES 00000 EDU010194D 43369917\n 9 UNITED STATES 00000 EDU010195D 43993459\n10 UNITED STATES 00000 EDU010196D 44715737\n# ℹ 31,970 more rows\n\n\n\nParse the string from the “Enrollment” column to pull out the year, and convert the year into a numeric value. Grab the first three characters and following four digits to create a new variable.\n\n\nedu01a_data &lt;- edu01a_data |&gt; \n  mutate(measurement = substr(edu01a_data$enrollment, 1, 7)) |&gt; \n  mutate(year = substr(edu01a_data$enrollment, 8, 9)) \n\nedu01a_data$year &lt;- year(parse_date_time(edu01a_data$year, \"y\"))\nedu01a_data\n\n# A tibble: 31,980 × 6\n   area_name     STCOU enrollment    value measurement  year\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1 UNITED STATES 00000 EDU010187D 40024299 EDU0101      1987\n 2 UNITED STATES 00000 EDU010188D 39967624 EDU0101      1988\n 3 UNITED STATES 00000 EDU010189D 40317775 EDU0101      1989\n 4 UNITED STATES 00000 EDU010190D 40737600 EDU0101      1990\n 5 UNITED STATES 00000 EDU010191D 41385442 EDU0101      1991\n 6 UNITED STATES 00000 EDU010192D 42088151 EDU0101      1992\n 7 UNITED STATES 00000 EDU010193D 42724710 EDU0101      1993\n 8 UNITED STATES 00000 EDU010194D 43369917 EDU0101      1994\n 9 UNITED STATES 00000 EDU010195D 43993459 EDU0101      1995\n10 UNITED STATES 00000 EDU010196D 44715737 EDU0101      1996\n# ℹ 31,970 more rows\n\n\n\nCreating two data sets:\n\n\nOne data set that contains only non-county data. Add a class to the tibble called state.\nOne data set that contains only county level data. Add a class to the tibble called county\n\n\ncounty_index &lt;- grep(pattern = \", \\\\w\\\\w\", edu01a_data$area_name)\n\ncounty_data &lt;- edu01a_data[county_index,]\ncounty_data\n\n# A tibble: 31,450 × 6\n   area_name   STCOU enrollment value measurement  year\n   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1 Autauga, AL 01001 EDU010187D  6829 EDU0101      1987\n 2 Autauga, AL 01001 EDU010188D  6900 EDU0101      1988\n 3 Autauga, AL 01001 EDU010189D  6920 EDU0101      1989\n 4 Autauga, AL 01001 EDU010190D  6847 EDU0101      1990\n 5 Autauga, AL 01001 EDU010191D  7008 EDU0101      1991\n 6 Autauga, AL 01001 EDU010192D  7137 EDU0101      1992\n 7 Autauga, AL 01001 EDU010193D  7152 EDU0101      1993\n 8 Autauga, AL 01001 EDU010194D  7381 EDU0101      1994\n 9 Autauga, AL 01001 EDU010195D  7568 EDU0101      1995\n10 Autauga, AL 01001 EDU010196D  7834 EDU0101      1996\n# ℹ 31,440 more rows\n\nclass(county_data) &lt;- c(\"county\", class(county_data))\nclass(county_data)\n\n[1] \"county\"     \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nnon_county_data &lt;- edu01a_data[- county_index,]\nnon_county_data\n\n# A tibble: 530 × 6\n   area_name     STCOU enrollment    value measurement  year\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1 UNITED STATES 00000 EDU010187D 40024299 EDU0101      1987\n 2 UNITED STATES 00000 EDU010188D 39967624 EDU0101      1988\n 3 UNITED STATES 00000 EDU010189D 40317775 EDU0101      1989\n 4 UNITED STATES 00000 EDU010190D 40737600 EDU0101      1990\n 5 UNITED STATES 00000 EDU010191D 41385442 EDU0101      1991\n 6 UNITED STATES 00000 EDU010192D 42088151 EDU0101      1992\n 7 UNITED STATES 00000 EDU010193D 42724710 EDU0101      1993\n 8 UNITED STATES 00000 EDU010194D 43369917 EDU0101      1994\n 9 UNITED STATES 00000 EDU010195D 43993459 EDU0101      1995\n10 UNITED STATES 00000 EDU010196D 44715737 EDU0101      1996\n# ℹ 520 more rows\n\nclass(non_county_data) &lt;- c(\"state\", class(non_county_data))\nclass(non_county_data)\n\n[1] \"state\"      \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\nFor the county level tibble, create a new variable that describes which state one of these county measurements corresponds to (the two digit abbreviation).\n\n\ncounty_data &lt;- county_data |&gt; \n  mutate(state = substr(county_data$area_name, nchar(county_data$area_name) - 1, nchar(county_data$area_name)))\ncounty_data\n\n# A tibble: 31,450 × 7\n   area_name   STCOU enrollment value measurement  year state\n   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;\n 1 Autauga, AL 01001 EDU010187D  6829 EDU0101      1987 AL   \n 2 Autauga, AL 01001 EDU010188D  6900 EDU0101      1988 AL   \n 3 Autauga, AL 01001 EDU010189D  6920 EDU0101      1989 AL   \n 4 Autauga, AL 01001 EDU010190D  6847 EDU0101      1990 AL   \n 5 Autauga, AL 01001 EDU010191D  7008 EDU0101      1991 AL   \n 6 Autauga, AL 01001 EDU010192D  7137 EDU0101      1992 AL   \n 7 Autauga, AL 01001 EDU010193D  7152 EDU0101      1993 AL   \n 8 Autauga, AL 01001 EDU010194D  7381 EDU0101      1994 AL   \n 9 Autauga, AL 01001 EDU010195D  7568 EDU0101      1995 AL   \n10 Autauga, AL 01001 EDU010196D  7834 EDU0101      1996 AL   \n# ℹ 31,440 more rows\n\n\n\nFor the non-county level tibble, create a new variable called “division” corresponding to the state’s classification of division here. If row corresponds to a non-state (i.e. UNITED STATES), return ERROR for the division.\n\n\nnon_county_data &lt;- non_county_data |&gt;\n  mutate(division = ifelse(non_county_data$area_name %in% c(\"CONNECTICUT\", \"MAINE\", \"MASSACHUSETTS\", \"NEW HAMPSHIRE\", \"RHODE ISLAND\", \"VERMONT\"),\"Division 1\", \n                           ifelse(non_county_data$area_name %in% c(\"NEW JERSEY\", \"NEW YORK\", \"PENNSYLVANIA\"), \"Division 2\", \nifelse(non_county_data$area_name %in% c(\"ILLINOIS\", \"INDIANA\", \"MICHIGAN\", \"OHIO\", \"WISCONSIN\"), \"Division 3\",\n       ifelse(non_county_data$area_name %in% c(\"IOWA\", \"KANSAS\", \"MINNESOTA\", \"MISSOURI\", \"NEBRASKA\", \"NORTH DAKOTA\", \"SOUTH DAKOTA\"), \"Division 4\",\n              ifelse(non_county_data$area_name %in% c(\"DELAWARE\", \"FLORIDA\", \"GEORGIA\", \"MARYLAND\", \"NORTH CAROLINA\", \"SOUTH CAROLINA\", \"VIRGINIA\", \"DISTRICT OF COLUMBIA\", \"District of Columbia\", \"WEST VIRGINIA\"), \"Division 5\",\n                     ifelse(non_county_data$area_name %in% c(\"ALABAMA\", \"KENTUCKY\", \"MISSISSIPPI\", \"TENNESSEE\"), \"Division 6\",\n                            ifelse(non_county_data$area_name %in% c(\"ARKANSAS\", \"LOUISIANA\", \"OKLAHOMA\", \"TEXAS\"), \"Division 7\",\n                                   ifelse(non_county_data$area_name %in% c(\"ARIZONA\", \"COLORADO\", \"IDAHO\", \"MONTANA\", \"NEVADA\", \"NEW MEXICO\", \"UTAH\", \"WYOMING\"), \"Division 8\",\n                                          ifelse(non_county_data$area_name %in% c(\"ALASKA\", \"CALIFORNIA\", \"HAWAII\", \"OREGON\", \"WASHINGTON\"), \"Division 9\",\n                                                 \"ERROR\"))))))))))\nnon_county_data\n\n# A tibble: 530 × 7\n   area_name     STCOU enrollment    value measurement  year division\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;   \n 1 UNITED STATES 00000 EDU010187D 40024299 EDU0101      1987 ERROR   \n 2 UNITED STATES 00000 EDU010188D 39967624 EDU0101      1988 ERROR   \n 3 UNITED STATES 00000 EDU010189D 40317775 EDU0101      1989 ERROR   \n 4 UNITED STATES 00000 EDU010190D 40737600 EDU0101      1990 ERROR   \n 5 UNITED STATES 00000 EDU010191D 41385442 EDU0101      1991 ERROR   \n 6 UNITED STATES 00000 EDU010192D 42088151 EDU0101      1992 ERROR   \n 7 UNITED STATES 00000 EDU010193D 42724710 EDU0101      1993 ERROR   \n 8 UNITED STATES 00000 EDU010194D 43369917 EDU0101      1994 ERROR   \n 9 UNITED STATES 00000 EDU010195D 43993459 EDU0101      1995 ERROR   \n10 UNITED STATES 00000 EDU010196D 44715737 EDU0101      1996 ERROR   \n# ℹ 520 more rows"
  },
  {
    "objectID": "ST558 Project 1 Quarto Doc.html#data-processing",
    "href": "ST558 Project 1 Quarto Doc.html#data-processing",
    "title": "ST558 Project 1",
    "section": "",
    "text": "Read in data, select only columns (Area_name, STCOU, any colum that ends in “D”), and rename column Area_name as area_name.\n\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.3.3\n\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nedu01a_data &lt;- read_csv(\"https://www4.stat.ncsu.edu/~online/datasets/EDU01a.csv\") |&gt; \n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(\"area_name\" = \"Area_name\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nedu01a_data\n\n# A tibble: 3,198 × 12\n   area_name     STCOU EDU010187D EDU010188D EDU010189D EDU010190D EDU010191D\n   &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n 1 UNITED STATES 00000   40024299   39967624   40317775   40737600   41385442\n 2 ALABAMA       01000     733735     728234     730048     728252     725541\n 3 Autauga, AL   01001       6829       6900       6920       6847       7008\n 4 Baldwin, AL   01003      16417      16465      16799      17054      17479\n 5 Barbour, AL   01005       5071       5098       5068       5156       5173\n 6 Bibb, AL      01007       3557       3508       3571       3621       3652\n 7 Blount, AL    01009       7319       7223       7205       7209       7155\n 8 Bullock, AL   01011       2014       1980       1985       1983       1985\n 9 Butler, AL    01013       4640       4582       4610       4591       4544\n10 Calhoun, AL   01015      20939      20923      20907      20849      20768\n# ℹ 3,188 more rows\n# ℹ 5 more variables: EDU010192D &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010194D &lt;dbl&gt;,\n#   EDU010195D &lt;dbl&gt;, EDU010196D &lt;dbl&gt;\n\n\n\nConvert the data into long format where each row has only one enrollment value for that area_name.\n\n\nedu01a_data &lt;- edu01a_data |&gt; \n  pivot_longer(cols = EDU010187D : EDU010196D,\n               names_to = \"enrollment\",\n               values_to = \"value\")\nedu01a_data\n\n# A tibble: 31,980 × 4\n   area_name     STCOU enrollment    value\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;\n 1 UNITED STATES 00000 EDU010187D 40024299\n 2 UNITED STATES 00000 EDU010188D 39967624\n 3 UNITED STATES 00000 EDU010189D 40317775\n 4 UNITED STATES 00000 EDU010190D 40737600\n 5 UNITED STATES 00000 EDU010191D 41385442\n 6 UNITED STATES 00000 EDU010192D 42088151\n 7 UNITED STATES 00000 EDU010193D 42724710\n 8 UNITED STATES 00000 EDU010194D 43369917\n 9 UNITED STATES 00000 EDU010195D 43993459\n10 UNITED STATES 00000 EDU010196D 44715737\n# ℹ 31,970 more rows\n\n\n\nParse the string from the “Enrollment” column to pull out the year, and convert the year into a numeric value. Grab the first three characters and following four digits to create a new variable.\n\n\nedu01a_data &lt;- edu01a_data |&gt; \n  mutate(measurement = substr(edu01a_data$enrollment, 1, 7)) |&gt; \n  mutate(year = substr(edu01a_data$enrollment, 8, 9)) \n\nedu01a_data$year &lt;- year(parse_date_time(edu01a_data$year, \"y\"))\nedu01a_data\n\n# A tibble: 31,980 × 6\n   area_name     STCOU enrollment    value measurement  year\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1 UNITED STATES 00000 EDU010187D 40024299 EDU0101      1987\n 2 UNITED STATES 00000 EDU010188D 39967624 EDU0101      1988\n 3 UNITED STATES 00000 EDU010189D 40317775 EDU0101      1989\n 4 UNITED STATES 00000 EDU010190D 40737600 EDU0101      1990\n 5 UNITED STATES 00000 EDU010191D 41385442 EDU0101      1991\n 6 UNITED STATES 00000 EDU010192D 42088151 EDU0101      1992\n 7 UNITED STATES 00000 EDU010193D 42724710 EDU0101      1993\n 8 UNITED STATES 00000 EDU010194D 43369917 EDU0101      1994\n 9 UNITED STATES 00000 EDU010195D 43993459 EDU0101      1995\n10 UNITED STATES 00000 EDU010196D 44715737 EDU0101      1996\n# ℹ 31,970 more rows\n\n\n\nCreating two data sets:\n\n\nOne data set that contains only non-county data. Add a class to the tibble called state.\nOne data set that contains only county level data. Add a class to the tibble called county\n\n\ncounty_index &lt;- grep(pattern = \", \\\\w\\\\w\", edu01a_data$area_name)\n\ncounty_data &lt;- edu01a_data[county_index,]\ncounty_data\n\n# A tibble: 31,450 × 6\n   area_name   STCOU enrollment value measurement  year\n   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1 Autauga, AL 01001 EDU010187D  6829 EDU0101      1987\n 2 Autauga, AL 01001 EDU010188D  6900 EDU0101      1988\n 3 Autauga, AL 01001 EDU010189D  6920 EDU0101      1989\n 4 Autauga, AL 01001 EDU010190D  6847 EDU0101      1990\n 5 Autauga, AL 01001 EDU010191D  7008 EDU0101      1991\n 6 Autauga, AL 01001 EDU010192D  7137 EDU0101      1992\n 7 Autauga, AL 01001 EDU010193D  7152 EDU0101      1993\n 8 Autauga, AL 01001 EDU010194D  7381 EDU0101      1994\n 9 Autauga, AL 01001 EDU010195D  7568 EDU0101      1995\n10 Autauga, AL 01001 EDU010196D  7834 EDU0101      1996\n# ℹ 31,440 more rows\n\nclass(county_data) &lt;- c(\"county\", class(county_data))\nclass(county_data)\n\n[1] \"county\"     \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nnon_county_data &lt;- edu01a_data[- county_index,]\nnon_county_data\n\n# A tibble: 530 × 6\n   area_name     STCOU enrollment    value measurement  year\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1 UNITED STATES 00000 EDU010187D 40024299 EDU0101      1987\n 2 UNITED STATES 00000 EDU010188D 39967624 EDU0101      1988\n 3 UNITED STATES 00000 EDU010189D 40317775 EDU0101      1989\n 4 UNITED STATES 00000 EDU010190D 40737600 EDU0101      1990\n 5 UNITED STATES 00000 EDU010191D 41385442 EDU0101      1991\n 6 UNITED STATES 00000 EDU010192D 42088151 EDU0101      1992\n 7 UNITED STATES 00000 EDU010193D 42724710 EDU0101      1993\n 8 UNITED STATES 00000 EDU010194D 43369917 EDU0101      1994\n 9 UNITED STATES 00000 EDU010195D 43993459 EDU0101      1995\n10 UNITED STATES 00000 EDU010196D 44715737 EDU0101      1996\n# ℹ 520 more rows\n\nclass(non_county_data) &lt;- c(\"state\", class(non_county_data))\nclass(non_county_data)\n\n[1] \"state\"      \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\nFor the county level tibble, create a new variable that describes which state one of these county measurements corresponds to (the two digit abbreviation).\n\n\ncounty_data &lt;- county_data |&gt; \n  mutate(state = substr(county_data$area_name, nchar(county_data$area_name) - 1, nchar(county_data$area_name)))\ncounty_data\n\n# A tibble: 31,450 × 7\n   area_name   STCOU enrollment value measurement  year state\n   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;\n 1 Autauga, AL 01001 EDU010187D  6829 EDU0101      1987 AL   \n 2 Autauga, AL 01001 EDU010188D  6900 EDU0101      1988 AL   \n 3 Autauga, AL 01001 EDU010189D  6920 EDU0101      1989 AL   \n 4 Autauga, AL 01001 EDU010190D  6847 EDU0101      1990 AL   \n 5 Autauga, AL 01001 EDU010191D  7008 EDU0101      1991 AL   \n 6 Autauga, AL 01001 EDU010192D  7137 EDU0101      1992 AL   \n 7 Autauga, AL 01001 EDU010193D  7152 EDU0101      1993 AL   \n 8 Autauga, AL 01001 EDU010194D  7381 EDU0101      1994 AL   \n 9 Autauga, AL 01001 EDU010195D  7568 EDU0101      1995 AL   \n10 Autauga, AL 01001 EDU010196D  7834 EDU0101      1996 AL   \n# ℹ 31,440 more rows\n\n\n\nFor the non-county level tibble, create a new variable called “division” corresponding to the state’s classification of division here. If row corresponds to a non-state (i.e. UNITED STATES), return ERROR for the division.\n\n\nnon_county_data &lt;- non_county_data |&gt;\n  mutate(division = ifelse(non_county_data$area_name %in% c(\"CONNECTICUT\", \"MAINE\", \"MASSACHUSETTS\", \"NEW HAMPSHIRE\", \"RHODE ISLAND\", \"VERMONT\"),\"Division 1\", \n                           ifelse(non_county_data$area_name %in% c(\"NEW JERSEY\", \"NEW YORK\", \"PENNSYLVANIA\"), \"Division 2\", \nifelse(non_county_data$area_name %in% c(\"ILLINOIS\", \"INDIANA\", \"MICHIGAN\", \"OHIO\", \"WISCONSIN\"), \"Division 3\",\n       ifelse(non_county_data$area_name %in% c(\"IOWA\", \"KANSAS\", \"MINNESOTA\", \"MISSOURI\", \"NEBRASKA\", \"NORTH DAKOTA\", \"SOUTH DAKOTA\"), \"Division 4\",\n              ifelse(non_county_data$area_name %in% c(\"DELAWARE\", \"FLORIDA\", \"GEORGIA\", \"MARYLAND\", \"NORTH CAROLINA\", \"SOUTH CAROLINA\", \"VIRGINIA\", \"DISTRICT OF COLUMBIA\", \"District of Columbia\", \"WEST VIRGINIA\"), \"Division 5\",\n                     ifelse(non_county_data$area_name %in% c(\"ALABAMA\", \"KENTUCKY\", \"MISSISSIPPI\", \"TENNESSEE\"), \"Division 6\",\n                            ifelse(non_county_data$area_name %in% c(\"ARKANSAS\", \"LOUISIANA\", \"OKLAHOMA\", \"TEXAS\"), \"Division 7\",\n                                   ifelse(non_county_data$area_name %in% c(\"ARIZONA\", \"COLORADO\", \"IDAHO\", \"MONTANA\", \"NEVADA\", \"NEW MEXICO\", \"UTAH\", \"WYOMING\"), \"Division 8\",\n                                          ifelse(non_county_data$area_name %in% c(\"ALASKA\", \"CALIFORNIA\", \"HAWAII\", \"OREGON\", \"WASHINGTON\"), \"Division 9\",\n                                                 \"ERROR\"))))))))))\nnon_county_data\n\n# A tibble: 530 × 7\n   area_name     STCOU enrollment    value measurement  year division\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;   \n 1 UNITED STATES 00000 EDU010187D 40024299 EDU0101      1987 ERROR   \n 2 UNITED STATES 00000 EDU010188D 39967624 EDU0101      1988 ERROR   \n 3 UNITED STATES 00000 EDU010189D 40317775 EDU0101      1989 ERROR   \n 4 UNITED STATES 00000 EDU010190D 40737600 EDU0101      1990 ERROR   \n 5 UNITED STATES 00000 EDU010191D 41385442 EDU0101      1991 ERROR   \n 6 UNITED STATES 00000 EDU010192D 42088151 EDU0101      1992 ERROR   \n 7 UNITED STATES 00000 EDU010193D 42724710 EDU0101      1993 ERROR   \n 8 UNITED STATES 00000 EDU010194D 43369917 EDU0101      1994 ERROR   \n 9 UNITED STATES 00000 EDU010195D 43993459 EDU0101      1995 ERROR   \n10 UNITED STATES 00000 EDU010196D 44715737 EDU0101      1996 ERROR   \n# ℹ 520 more rows"
  }
]